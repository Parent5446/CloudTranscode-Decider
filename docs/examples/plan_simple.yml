---
plan:
  name: MyWorkFlow                    # WF name in SWF
  input_spec:                         # JSON-Schema input validation

  steps:
  - name: MyStep1
    activity: MyAct1
    parents: []
    input: |
      { "input": "Some input" }

  - name: MyStep2
    activity: MyAct1
    parents: []
    input: |
      { "input": "foo" }

  - name: MyStep3
    activity: MyAct2
    parents:
    - [ MyStep1, 'complete' ]
    - [ MyStep2, 'complete' ]
    input: |
      {
        "one": {{MyStep1.__all__ | to_json}}
        "two": {{MyStep2.foo | to_json}}
      }

  activities:
  - name: MyAct1                      # Activity name in SWF
    version: "1.0"                    # Activity version in SWF
    input_spec:                       # JSON-Schema input
      type: object
      properties":
        input:
          type: "string"
      required:
      - input
    output_specs:                     # YAQL output expressions
      __all__: "$"                      # Extract the whole output in '__all__'
      value1: "$.foo.bar.baz"           # Extract a specific value
      value2: "$.foo"

  - name: MyAct2                      # Activity name in SWF
    version: "2.0"                    # Activity version in SWF
    input_spec: ~                     # JSON-Schema input (None is disabled)
    output_specs: ~                   # YAQL expressions (None is disabled)
